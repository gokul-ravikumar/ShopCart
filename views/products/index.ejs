<% layout("./boilerplate/boilerplate.ejs") -%>

    <div class="flex flex-col items-center gap-4 p-5 max-w-7xl mx-auto w-full overflow-x-hidden">

        <!-- ðŸ›’ Product Grid (4x4 layout on large screens) -->
        <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8 justify-items-center w-full">
            <% for (let product of products) { %>
                <div
                    class="max-w-sm bg-white shadow-xl rounded-2xl transition-transform transform hover:scale-105 hover:shadow-2xl">
                    <a href="#">
                        <img class="rounded-t-2xl object-cover w-full h-56" src="<%- product.image[0].url %>"
                            alt="<%- product.image[0].filename %>" />
                    </a>

                    <div class="p-5 bg-white rounded-b-2xl text-center">
                        <a href="#">
                            <h5 class="mb-2 text-xl font-bold tracking-tight text-gray-900">
                                <%- product.title %>
                            </h5>
                        </a>

                        <p class="mb-3 font-normal text-gray-700 dark:text-gray-400">
                            <%- product.description %>
                        </p>

                        <!-- â­ Single Dynamic Rating -->
                        <div class="flex justify-center items-center gap-1 mb-3">
                            <span class="text-yellow-400 text-lg">â˜…</span>
                            <span class="text-gray-700 font-medium">
                                <%= product.rating ? product.rating.toFixed(1) : (Math.random() * 2 + 3).toFixed(1) %>
                            </span>
                        </div>

                        <p class="mb-3 font-semibold text-orange-600">
                            $<%= product.price %>
                        </p>
                    </div>
                </div>
                <% } %>
        </div>
    </div>